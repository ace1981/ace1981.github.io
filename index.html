<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-CN">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.3" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.3">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.3" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta property="og:type" content="website">
<meta property="og:title" content="Ace&#39;pages">
<meta property="og:url" content="http://hujao.com/index.html">
<meta property="og:site_name" content="Ace&#39;pages">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Ace&#39;pages">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.3',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://hujao.com/"/>





  <title>Ace'pages</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Ace'pages</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://hujao.com/2018/07/12/angular-cli-json/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ace1981">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Ace'pages">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/12/angular-cli-json/" itemprop="url">angular-cli.json</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-07-12T14:45:24+08:00">
                2018-07-12
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://hujao.com/2018/07/12/pwa/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ace1981">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Ace'pages">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/12/pwa/" itemprop="url">PWA（Progressive Web App）</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-07-12T13:58:55+08:00">
                2018-07-12
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="https://blog.csdn.net/qq_19238139/article/details/77531191" target="_blank" rel="noopener">https://blog.csdn.net/qq_19238139/article/details/77531191</a></p>
<p><a href="https://blog.csdn.net/shenlei19911210/article/details/77947399" target="_blank" rel="noopener">https://blog.csdn.net/shenlei19911210/article/details/77947399</a></p>
<p><a href="https://blog.naaln.com/2017/09/hexo-with-pwa/" target="_blank" rel="noopener">https://blog.naaln.com/2017/09/hexo-with-pwa/</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://hujao.com/2018/06/29/jpa-manytomany/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ace1981">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Ace'pages">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/06/29/jpa-manytomany/" itemprop="url">jpa-manytomany</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-06-29T10:33:13+08:00">
                2018-06-29
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="https://www.cnblogs.com/xiluhua/p/4386045.html" target="_blank" rel="noopener">https://www.cnblogs.com/xiluhua/p/4386045.html</a></p>
<h1 id="ManyToMany-edit"><a href="#ManyToMany-edit" class="headerlink" title="ManyToMany[edit]"></a>ManyToMany[<a href="https://en.wikibooks.org/w/index.php?title=Java_Persistence/ManyToMany&amp;action=edit&amp;section=1" target="_blank" rel="noopener">edit</a>]</h1><p>A <code>ManyToMany</code> relationship in Java is where the source object has an attribute that stores a collection of target objects and (if) those target objects had the inverse relationship back to the source object it would also be a <code>ManyToMany</code> relationship. All relationships in Java and JPA are unidirectional, in that if a source object references a target object there is no guarantee that the target object also has a relationship to the source object. This is different than a relational database, in which relationships are defined through foreign keys and querying such that the inverse query always exists.</p>
<p>JPA also defines a <code>OneToMany</code> relationship, which is similar to a <code>ManyToMany</code> relationship except that the inverse relationship (if it were defined) is a <code>ManyToOne</code> relationship. The main difference between a <code>OneToMany</code> and a <code>ManyToMany</code> relationship in JPA is that a <code>ManyToMany</code> always makes use of a intermediate relational join table to store the relationship, where as a <code>OneToMany</code> can either use a join table, or a foreign key in target object’s table referencing the source object table’s primary key.</p>
<p>In JPA a <code>ManyToMany</code> relationship is defined through the <code>@ManyToMany</code> annotation or the <code>&lt;many-to-many&gt;</code> element.</p>
<p>All <code>ManyToMany</code> relationships require a <code>JoinTable</code>. The <code>JoinTable</code> is defined using the <code>@JoinTable</code> annotation and <code>&lt;join-table&gt;</code> XML element. The <code>JoinTable</code> defines a foreign key to the source object’s primary key (<code>joinColumns</code>), and a foreign key to the target object’s primary key (<code>inverseJoinColumns</code>). Normally the primary key of the <code>JoinTable</code> is the combination of both foreign keys.</p>
<h3 id="Example-of-a-ManyToMany-relationship-database-edit"><a href="#Example-of-a-ManyToMany-relationship-database-edit" class="headerlink" title="Example of a ManyToMany relationship database[edit]"></a>Example of a ManyToMany relationship database[<a href="https://en.wikibooks.org/w/index.php?title=Java_Persistence/ManyToMany&amp;action=edit&amp;section=2" target="_blank" rel="noopener">edit</a>]</h3><p>EMPLOYEE (table)</p>
<table>
<thead>
<tr>
<th>ID</th>
<th>FIRSTNAME</th>
<th>LASTNAME</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>Bob</td>
<td>Way</td>
</tr>
<tr>
<td>2</td>
<td>Sarah</td>
<td>Smith</td>
</tr>
</tbody>
</table>
<p>EMP_PROJ (table)</p>
<table>
<thead>
<tr>
<th>EMP_ID</th>
<th>PROJ_ID</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td>1</td>
<td>2</td>
</tr>
<tr>
<td>2</td>
<td>1</td>
</tr>
</tbody>
</table>
<p>PROJECT (table)</p>
<table>
<thead>
<tr>
<th>ID</th>
<th>NAME</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>GIS</td>
</tr>
<tr>
<td>2</td>
<td>SIG</td>
</tr>
</tbody>
</table>
<h3 id="Example-of-a-ManyToMany-relationship-annotation-edit"><a href="#Example-of-a-ManyToMany-relationship-annotation-edit" class="headerlink" title="Example of a ManyToMany relationship annotation[edit]"></a>Example of a ManyToMany relationship annotation[<a href="https://en.wikibooks.org/w/index.php?title=Java_Persistence/ManyToMany&amp;action=edit&amp;section=3" target="_blank" rel="noopener">edit</a>]</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">@Entity</span><br><span class="line">public class Employee &#123;</span><br><span class="line">  @Id</span><br><span class="line">  @Column(name=&quot;ID&quot;)</span><br><span class="line">  private long id;</span><br><span class="line">  ...</span><br><span class="line">  @ManyToMany</span><br><span class="line">  @JoinTable(</span><br><span class="line">      name=&quot;EMP_PROJ&quot;,</span><br><span class="line">      joinColumns=@JoinColumn(name=&quot;EMP_ID&quot;, referencedColumnName=&quot;ID&quot;),</span><br><span class="line">      inverseJoinColumns=@JoinColumn(name=&quot;PROJ_ID&quot;, referencedColumnName=&quot;ID&quot;))</span><br><span class="line">  private List&lt;Project&gt; projects;</span><br><span class="line">  .....</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Example-of-a-ManyToMany-relationship-XML-edit"><a href="#Example-of-a-ManyToMany-relationship-XML-edit" class="headerlink" title="Example of a ManyToMany relationship XML[edit]"></a>Example of a ManyToMany relationship XML[<a href="https://en.wikibooks.org/w/index.php?title=Java_Persistence/ManyToMany&amp;action=edit&amp;section=4" target="_blank" rel="noopener">edit</a>]</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;entity name=&quot;Employee&quot; class=&quot;org.acme.Employee&quot; access=&quot;FIELD&quot;&gt;</span><br><span class="line">	&lt;attributes&gt;</span><br><span class="line">		&lt;id name=&quot;id&quot;&gt;</span><br><span class="line">			&lt;column name=&quot;EMP_ID&quot;/&gt;</span><br><span class="line">		&lt;/id&gt;</span><br><span class="line">		&lt;set name=&quot;projects&quot; table=&quot;EMP_PROJ&quot; lazy=&quot;true&quot; cascade=&quot;none&quot; sort=&quot;natural&quot; optimistic-lock=&quot;false&quot;&gt;</span><br><span class="line">			&lt;key column=&quot;EMP_ID&quot; not-null=&quot;true&quot; /&gt;</span><br><span class="line">			&lt;many-to-many class=&quot;com.flipswap.domain.Project&quot; column=&quot;PROJ_ID&quot; /&gt;</span><br><span class="line">		&lt;/set&gt;</span><br><span class="line">	&lt;/attributes&gt;</span><br><span class="line">&lt;/entity&gt;</span><br></pre></td></tr></table></figure>
<h2 id="Bi-directional-Many-to-Many-edit"><a href="#Bi-directional-Many-to-Many-edit" class="headerlink" title="Bi-directional Many to Many[edit]"></a>Bi-directional Many to Many[<a href="https://en.wikibooks.org/w/index.php?title=Java_Persistence/ManyToMany&amp;action=edit&amp;section=5" target="_blank" rel="noopener">edit</a>]</h2><p>Although a <code>ManyToMany</code> relationship is always bi-directional on the database, the object model can choose if it will be mapped in both directions, and in which direction it will be mapped in. If you choose to map the relationship in both directions, then one direction must be defined as the <em>owner</em> and the other must use the <code>mappedBy</code> attribute to define its mapping. This also avoids having to duplicate the <code>JoinTable</code> information in both places.</p>
<p>If the <code>mappedBy</code> is not used, then the persistence provider will assume there are two independent relationships, and you will end up getting duplicate rows inserted into the join table. If you have a conceptual bi-directional relationship, but have two different join tables in the database, then you must not use the <code>mappedBy</code>, as you need to maintain two independent tables.</p>
<p>As with all bi-directional relationships it is your object model’s and application’s responsibility to maintain the relationship in both direction. There is no <em>magic</em> in JPA, if you add or remove to one side of the collection, you must also add or remove from the other side, see <a href="https://en.wikibooks.org/wiki/Java_Persistence/Relationships#Object_corruption.2C_one_side_of_the_relationship_is_not_updated_after_updating_the_other_side" target="_blank" rel="noopener">object corruption</a>. Technically the database will be updated correctly if you only add/remove from the <em>owning</em> side of the relationship, but then your object model will be out of synch, which can cause issues.</p>
<h3 id="Example-of-an-inverse-ManyToMany-relationship-annotation-edit"><a href="#Example-of-an-inverse-ManyToMany-relationship-annotation-edit" class="headerlink" title="Example of an inverse ManyToMany relationship annotation[edit]"></a>Example of an inverse ManyToMany relationship annotation[<a href="https://en.wikibooks.org/w/index.php?title=Java_Persistence/ManyToMany&amp;action=edit&amp;section=6" target="_blank" rel="noopener">edit</a>]</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">@Entity</span><br><span class="line">public class Project &#123;</span><br><span class="line">  @Id</span><br><span class="line">  @Column(name=&quot;ID&quot;)</span><br><span class="line">  private long id;</span><br><span class="line">  ...</span><br><span class="line">  @ManyToMany(mappedBy=&quot;projects&quot;)</span><br><span class="line">  private List&lt;Employee&gt; employees;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="See-Also-edit"><a href="#See-Also-edit" class="headerlink" title="See Also[edit]"></a>See Also[<a href="https://en.wikibooks.org/w/index.php?title=Java_Persistence/ManyToMany&amp;action=edit&amp;section=7" target="_blank" rel="noopener">edit</a>]</h2><ul>
<li><a href="https://en.wikibooks.org/wiki/Java_Persistence/Relationships" target="_blank" rel="noopener">Relationships</a><a href="https://en.wikibooks.org/wiki/Java_Persistence/Relationships#Cascading" target="_blank" rel="noopener">Cascading</a><a href="https://en.wikibooks.org/wiki/Java_Persistence/Relationships#Lazy_Fetching" target="_blank" rel="noopener">Lazy Fetching</a><a href="https://en.wikibooks.org/wiki/Java_Persistence/Relationships#Target_Entity" target="_blank" rel="noopener">Target Entity</a><a href="https://en.wikibooks.org/wiki/Java_Persistence/Relationships#Collections" target="_blank" rel="noopener">Collections</a><a href="https://en.wikibooks.org/wiki/Java_Persistence/Relationships#Maps" target="_blank" rel="noopener">Maps</a><a href="https://en.wikibooks.org/wiki/Java_Persistence/Relationships#Join_Fetching" target="_blank" rel="noopener">Join Fetching</a><a href="https://en.wikibooks.org/wiki/Java_Persistence/Relationships#Batch_Reading" target="_blank" rel="noopener">Batch Reading</a><a href="https://en.wikibooks.org/wiki/Java_Persistence/Relationships#Common_Problems" target="_blank" rel="noopener">Common Problems</a></li>
<li><a href="https://en.wikibooks.org/wiki/Java_Persistence/OneToMany" target="_blank" rel="noopener">OneToMany</a></li>
</ul>
<h2 id="Common-Problems-edit"><a href="#Common-Problems-edit" class="headerlink" title="Common Problems[edit]"></a>Common Problems[<a href="https://en.wikibooks.org/w/index.php?title=Java_Persistence/ManyToMany&amp;action=edit&amp;section=8" target="_blank" rel="noopener">edit</a>]</h2><h5 id="Object-not-in-collection-after-refresh-edit"><a href="#Object-not-in-collection-after-refresh-edit" class="headerlink" title="Object not in collection after refresh.[edit]"></a><em>Object not in collection after refresh.</em>[<a href="https://en.wikibooks.org/w/index.php?title=Java_Persistence/ManyToMany&amp;action=edit&amp;section=9" target="_blank" rel="noopener">edit</a>]</h5><h5 id="Additional-columns-in-join-table-edit"><a href="#Additional-columns-in-join-table-edit" class="headerlink" title="Additional columns in join table.[edit]"></a><em>Additional columns in join table.</em>[<a href="https://en.wikibooks.org/w/index.php?title=Java_Persistence/ManyToMany&amp;action=edit&amp;section=10" target="_blank" rel="noopener">edit</a>]</h5><h5 id="Duplicate-rows-inserted-into-the-join-table-edit"><a href="#Duplicate-rows-inserted-into-the-join-table-edit" class="headerlink" title="Duplicate rows inserted into the join table.[edit]"></a><em>Duplicate rows inserted into the join table.</em>[<a href="https://en.wikibooks.org/w/index.php?title=Java_Persistence/ManyToMany&amp;action=edit&amp;section=11" target="_blank" rel="noopener">edit</a>]</h5><h1 id="Advanced-edit"><a href="#Advanced-edit" class="headerlink" title="Advanced[edit]"></a>Advanced[<a href="https://en.wikibooks.org/w/index.php?title=Java_Persistence/ManyToMany&amp;action=edit&amp;section=12" target="_blank" rel="noopener">edit</a>]</h1><h2 id="Mapping-a-Join-Table-with-Additional-Columns-edit"><a href="#Mapping-a-Join-Table-with-Additional-Columns-edit" class="headerlink" title="Mapping a Join Table with Additional Columns[edit]"></a>Mapping a Join Table with Additional Columns[<a href="https://en.wikibooks.org/w/index.php?title=Java_Persistence/ManyToMany&amp;action=edit&amp;section=13" target="_blank" rel="noopener">edit</a>]</h2><p>A frequent problem is that two classes have a <code>ManyToMany</code> relationship, but the relational join table has additional data. For example if <code>Employee</code>has a <code>ManyToMany</code> with <code>Project</code> but the PROJ_EMP join table also has an <code>IS_PROJECT_LEAD</code> column. In this case the best solution is to create a class that models the join table. So a <code>ProjectAssociation</code> class would be created. It would have a <code>ManyToOne</code> to <code>Employee</code> and <code>Project</code>, and attributes for the additional data. <code>Employee</code> and <code>Project</code> would have a <code>OneToMany</code> to the <code>ProjectAssociation</code>. Some JPA providers also provide additional support for mapping to join tables with additional data.</p>
<p>Unfortunately mapping this type of model becomes more <a href="https://en.wikibooks.org/wiki/Java_Persistence/Identity_and_Sequencing#Primary_Keys_through_OneToOne_and_ManyToOne_Relationships" target="_blank" rel="noopener">complicated</a> in JPA because it requires a composite primary key. The association object’s <code>Id</code>is composed of the <code>Employee</code> and <code>Project</code> ids. The JPA 1.0 spec does not allow an <code>Id</code> to be used on a <code>ManyToOne</code> so the association class must have two duplicate attributes to also store the ids, and use an <code>IdClass</code>, these duplicate attributes must be kept in synch with the <code>ManyToOne</code>attributes. Some JPA providers may allow a <code>ManyToOne</code> to be part of an <code>Id</code>, so this may be simpler with some JPA providers. To make your life simpler, I would recommend adding a generated <code>Id</code> attribute to the association class. This will give the object a simpler <code>Id</code> and not require duplicating the <code>Employee</code> and <code>Project</code> ids.</p>
<p>This same pattern can be used no matter what the additional data in the join table is. Another usage is if you have a <code>Map</code> relationship between two objects, with a third unrelated object or data representing the <code>Map</code> key. The JPA spec requires that the <code>Map</code> key be an attribute of the <code>Map</code> value, so the <em>association object</em> pattern can be used to model the relationship.</p>
<p>If the additional data in the join table is only required on the database and not used in Java, such as auditing information, it may also be possible to use database triggers to automatically set the data.</p>
<h3 id="Example-join-table-association-object-database-edit"><a href="#Example-join-table-association-object-database-edit" class="headerlink" title="Example join table association object database[edit]"></a>Example join table association object database[<a href="https://en.wikibooks.org/w/index.php?title=Java_Persistence/ManyToMany&amp;action=edit&amp;section=14" target="_blank" rel="noopener">edit</a>]</h3><p>EMPLOYEE (table)</p>
<table>
<thead>
<tr>
<th>ID</th>
<th>FIRSTNAME</th>
<th>LASTNAME</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>Bob</td>
<td>Way</td>
</tr>
<tr>
<td>2</td>
<td>Sarah</td>
<td>Smith</td>
</tr>
</tbody>
</table>
<p>PROJ_EMP (table)</p>
<table>
<thead>
<tr>
<th>EMPLOYEEID</th>
<th>PROJECTID</th>
<th>IS_PROJECT_LEAD</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>1</td>
<td>true</td>
</tr>
<tr>
<td>1</td>
<td>2</td>
<td>false</td>
</tr>
<tr>
<td>2</td>
<td>1</td>
<td>false</td>
</tr>
</tbody>
</table>
<p>PROJECT (table)</p>
<table>
<thead>
<tr>
<th>ID</th>
<th>NAME</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>GIS</td>
</tr>
<tr>
<td>2</td>
<td>SIG</td>
</tr>
</tbody>
</table>
<h3 id="Example-join-table-association-object-annotations-edit"><a href="#Example-join-table-association-object-annotations-edit" class="headerlink" title="Example join table association object annotations[edit]"></a>Example join table association object annotations[<a href="https://en.wikibooks.org/w/index.php?title=Java_Persistence/ManyToMany&amp;action=edit&amp;section=15" target="_blank" rel="noopener">edit</a>]</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">@Entity</span><br><span class="line">public class Employee &#123;</span><br><span class="line">  @Id</span><br><span class="line">  private long id;</span><br><span class="line">  ...</span><br><span class="line">  @OneToMany(mappedBy=&quot;employee&quot;)</span><br><span class="line">  private List&lt;ProjectAssociation&gt; projects;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">@Entity</span><br><span class="line">public class Project &#123;</span><br><span class="line">  @Id</span><br><span class="line">  private long id;</span><br><span class="line">  ...</span><br><span class="line">  @OneToMany(mappedBy=&quot;project&quot;)</span><br><span class="line">  private List&lt;ProjectAssociation&gt; employees;</span><br><span class="line">  ...</span><br><span class="line">  // Add an employee to the project.</span><br><span class="line">  // Create an association object for the relationship and set its data.</span><br><span class="line">  public void addEmployee(Employee employee, boolean teamLead) &#123;</span><br><span class="line">    ProjectAssociation association = new ProjectAssociation();</span><br><span class="line">    association.setEmployee(employee);</span><br><span class="line">    association.setProject(this);</span><br><span class="line">    association.setEmployeeId(employee.getId());</span><br><span class="line">    association.setProjectId(this.getId());</span><br><span class="line">    association.setIsTeamLead(teamLead);</span><br><span class="line">    if(this.employees == null)</span><br><span class="line">       this.employees = new ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    this.employees.add(association);</span><br><span class="line">    // Also add the association object to the employee.</span><br><span class="line">    employee.getProjects().add(association);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">@Entity</span><br><span class="line">@Table(name=&quot;PROJ_EMP&quot;)</span><br><span class="line">@IdClass(ProjectAssociationId.class)</span><br><span class="line">public class ProjectAssociation &#123;</span><br><span class="line">  @Id</span><br><span class="line">  private long employeeId;</span><br><span class="line">  @Id</span><br><span class="line">  private long projectId;</span><br><span class="line">  @Column(name=&quot;IS_PROJECT_LEAD&quot;)</span><br><span class="line">  private boolean isProjectLead;</span><br><span class="line">  @ManyToOne</span><br><span class="line">  @PrimaryKeyJoinColumn(name=&quot;EMPLOYEEID&quot;, referencedColumnName=&quot;ID&quot;)</span><br><span class="line">  /* if this JPA model doesn&apos;t create a table for the &quot;PROJ_EMP&quot; entity,</span><br><span class="line">  *  please comment out the @PrimaryKeyJoinColumn, and use the ff:</span><br><span class="line">  *  @JoinColumn(name = &quot;employeeId&quot;, updatable = false, insertable = false)</span><br><span class="line">  * or @JoinColumn(name = &quot;employeeId&quot;, updatable = false, insertable = false, referencedColumnName = &quot;id&quot;)</span><br><span class="line">  */</span><br><span class="line">  private Employee employee;</span><br><span class="line">  @ManyToOne</span><br><span class="line">  @PrimaryKeyJoinColumn(name=&quot;PROJECTID&quot;, referencedColumnName=&quot;ID&quot;)</span><br><span class="line">  /* the same goes here:</span><br><span class="line">  *  if this JPA model doesn&apos;t create a table for the &quot;PROJ_EMP&quot; entity,</span><br><span class="line">  *  please comment out the @PrimaryKeyJoinColumn, and use the ff:</span><br><span class="line">  *  @JoinColumn(name = &quot;projectId&quot;, updatable = false, insertable = false)</span><br><span class="line">  * or @JoinColumn(name = &quot;projectId&quot;, updatable = false, insertable = false, referencedColumnName = &quot;id&quot;)</span><br><span class="line">  */</span><br><span class="line">  private Project project;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">public class ProjectAssociationId implements Serializable &#123;</span><br><span class="line"></span><br><span class="line">  private long employeeId;</span><br><span class="line"></span><br><span class="line">  private long projectId;</span><br><span class="line">  ...</span><br><span class="line"></span><br><span class="line">  public int hashCode() &#123;</span><br><span class="line">    return (int)(employeeId + projectId);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  public boolean equals(Object object) &#123;</span><br><span class="line">    if (object instanceof ProjectAssociationId) &#123;</span><br><span class="line">      ProjectAssociationId otherId = (ProjectAssociationId) object;</span><br><span class="line">      return (otherId.employeeId == this.employeeId) &amp;&amp; (otherId.projectId == this.projectId);</span><br><span class="line">    &#125;</span><br><span class="line">    return false;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>If the given examples won’t suit your expectations, try the solution indicated in this link:</li>
</ul>
<p><a href="http://giannigar.wordpress.com/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/" target="_blank" rel="noopener">http://giannigar.wordpress.com/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/</a></p>
<p><a href="https://en.wikibooks.org/wiki/Special:Categories" target="_blank" rel="noopener">Categories</a>: <a href="https://en.wikibooks.org/wiki/Category:Book:Java_Persistence" target="_blank" rel="noopener">Book:Java Persistence</a>[Book:Java Persistence/Mapping</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://hujao.com/2018/06/28/oracle-connection/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ace1981">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Ace'pages">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/06/28/oracle-connection/" itemprop="url">oracle-connection</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-06-28T22:49:29+08:00">
                2018-06-28
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://hujao.com/2018/06/19/ng2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ace1981">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Ace'pages">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/06/19/ng2/" itemprop="url">ng2</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-06-19T14:17:21+08:00">
                2018-06-19
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://hujao.com/2018/06/14/npm-package/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ace1981">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Ace'pages">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/06/14/npm-package/" itemprop="url">npm-package</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-06-14T10:48:36+08:00">
                2018-06-14
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="https://blog.csdn.net/u011240877/article/details/76582670" target="_blank" rel="noopener">https://blog.csdn.net/u011240877/article/details/76582670</a></p>
<p>npm 与 package.json 快速入门教程<br>2017年08月02日 19:16:20<br>阅读数：26770<br>npm 是前端开发广泛使用的包管理工具，之前使用 Weex 时看了阮一峰前辈的文章了解了一些，这次结合官方文章总结一下，加深下理解吧！</p>
<p>读完本文你将了解：</p>
<p>什么是 npm？<br>安装 npm<br>更新 npm<br>package.json 文件<br>package.json 如何创建<br>package.json 的内容<br>指定依赖的包<br>Semantic versioning（语义化版本规则）<br>安装 package<br>本地安装 package<br>安装参数 –save 和 –save -dev<br>使用下载好的包<br>更新本地 package<br>卸载本地 package<br>全局安装 package<br>全局安装的权限问题<br>更新全局的 package<br>卸载全局 package<br>其他命令<br>npm run<br>npm install from github<br>npm info<br>npm adduser<br>npm home/repo<br>npm prune<br>npm publish<br>国内镜像<br>总结<br>Thanks<br>什么是 npm？<br>这里写图片描述</p>
<p>官方文档中对它的介绍是：</p>
<p>npm makes it easy for JavaScript developers to share and reuse code, and it makes it easy to update the code that you’re sharing.</p>
<p>即： npm 是一个包管理器，它让 JavaScript 开发者分享、复用代码更方便（有点 maven 的感觉哈）。</p>
<p>在程序开发中我们常常需要依赖别人提供的框架，写 JS 也不例外。这些可以重复的框架代码被称作包（package）或者模块（module），一个包可以是一个文件夹里放着几个文件，同时有一个叫做 package.json 的文件。</p>
<p>一个网站里通常有几十甚至上百个 package，分散在各处，通常会将这些包按照各自的功能进行划分（类似我们安卓开发中的划分子模块），但是如果重复造一些轮子，不如上传到一个公共平台，让更多的人一起使用、参与这个特定功能的模块。</p>
<p>而 npm 的作用就是让我们发布、下载一些 JS 轮子更加方便。</p>
<p>我们可以去官方网站 <a href="https://www.npmjs.com/" target="_blank" rel="noopener">https://www.npmjs.com/</a> 浏览、搜索想要的轮子，也可以直接在命令行中 search 一下意中轮。</p>
<p>这里写图片描述</p>
<p>使用 npm 后我们可以非常方便地查看依赖的轮子是否有更新、是否需要下载新版本。</p>
<p>现在我们知道 npm 是干什么的了。当人们说起 “npm” 时，可能在说三个东西：</p>
<p>一个网站，就是前面提到用于搜索 JS 模块的网站：<a href="https://www.npmjs.com/" target="_blank" rel="noopener">https://www.npmjs.com/</a><br>一个仓库，保存着人们分享的 JS 模块的大数据库<br>命令行里的客户端，开发者使用它来管理、安装、发布模块<br>只要开发者发布某个模块到仓库中，其他人就可以从 npm 网站或者命令行中下载、使用它了！</p>
<p>安装 npm<br>npm 是依附于 node.js 的，我们可以去它的官网 <a href="https://nodejs.org/en/download/" target="_blank" rel="noopener">https://nodejs.org/en/download/</a> 下载安装 node.js。</p>
<p>下载好 node.js, npm 也就有了，使用 npm -v 查看安装的 npm 版本：</p>
<p>zhangshixin$ node -v<br>v6.10.0<br>1<br>2<br>更新 npm<br>npm 更新地可比 node 勤快多了，因此你下载的 node 附带的 npm 版本可能不是最新的，你可以使用如下命令下载最新 npm:</p>
<p>npm install npm@latest -g<br>1<br>其中 install 不用介绍了，就是安装，后面的 npm@latest 就是 <packagename>@<version> 的格式，我们在下载其他模块时也是这个格式。-g 代表全局安装。</version></packagename></p>
<p>package.json 文件<br>package.json 文件非常重要，因此需要单独一小节介绍。</p>
<p>管理本地安装 npm 包的最好方式就是创建 package.json 文件。</p>
<p>一个 package.json 文件可以有以下几点作用：</p>
<p>作为一个描述文件，描述了你的项目依赖哪些包<br>允许我们使用 “语义化版本规则”（后面介绍）指明你项目依赖包的版本<br>让你的构建更好地与其他开发者分享，便于重复使用<br>package.json 如何创建<br>使用 npm init 即可在当前目录创建一个 package.json 文件：</p>
<p>这里写图片描述</p>
<p>如图所示，输入 npm init 后会弹出一堆问题，我们可以输入对应内容，也可以使用默认值。在回答一堆问题后输入 yes 就会生成图中所示内容的 package.json 文件。</p>
<p>如果嫌回答这一大堆问题麻烦，可以直接输入 npm init –yes 跳过回答问题步骤，直接生成默认值的 package.json 文件：</p>
<p>这里写图片描述</p>
<p>package.json 的内容<br>package.json 文件至少要有两部分内容：</p>
<p>“name”<br>全部小写，没有空格，可以使用下划线或者横线<br>“version”<br>x.x.x 的格式<br>符合“语义化版本规则”<br>比如：</p>
<p>{<br>  “name”: “shixinzhang-demo-package”,<br>  “version”: “1.0.0”<br>}<br>1<br>2<br>3<br>4<br>其他内容：</p>
<p>description：描述信息，有助于搜索<br>main: 入口文件，一般都是 index.js<br>scripts：支持的脚本，默认是一个空的 test<br>keywords：关键字，有助于在人们使用 npm search 搜索时发现你的项目<br>author：作者信息<br>license：默认是 MIT<br>bugs：当前项目的一些错误信息，如果有的话<br>我们可以为 init 命令设置一些默认值，比如：</p>
<blockquote>
<p>npm set init.author.email “shixinzhang2016@gmail.com”<br>npm set init.author.name “shixinzhang”<br>npm set init.license “MIT”<br>1<br>2<br>3<br>注意：<br>如果 package.json 中没有 description 信息，npm 使用项目中的 README.md 的第一行作为描述信息。这个描述信息有助于别人搜索你的项目，因此建议好好写 description 信息。</p>
</blockquote>
<p>指定依赖的包<br>我们需要在 package.json 文件中指定项目依赖的包，这样别人在拿到这个项目时才可以使用 npm install 下载。</p>
<p>包有两种依赖方式：</p>
<p>dependencies：在生产环境中需要用到的依赖<br>devDependencies：在开发、测试环境中用到的依赖<br>举个例子：</p>
<p>{<br>    “name”: “my-weex-demo”,<br>    “version”: “1.0.0”,<br>    “description”: “a weex project”,<br>    “main”: “index.js”,<br>    “scripts”: {<br>        “build”: “weex-builder src dist”,<br>        “build_plugin”: “webpack –config ./tools/webpack.config.plugin.js –color”,<br>        “dev”: “weex-builder src dist -w”,<br>        “serve”: “serve -p 8080”<br>    },<br>    “keywords”: [<br>        “weex”<br>    ],<br>    “author”: “fkysly@gmail.com”,<br>    “license”: “MIT”,<br>    “devDependencies”: {<br>        “babel-core”: “^6.14.0”,<br>        “babel-loader”: “^6.2.5”,<br>        “babel-preset-es2015”: “^6.18.0”,<br>        “vue-loader”: “^10.0.2”,<br>        “eslint”: “^3.5.0”,<br>        “serve”: “^1.4.0”,<br>        “webpack”: “^1.13.2”,<br>        “weex-loader”: “^0.3.3”,<br>        “weex-builder”: “^0.2.6”<br>    },<br>    “dependencies”: {<br>        “weex-html5”: “^0.3.2”,<br>        “weex-components”: “*”<br>    }<br>}<br>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<br>24<br>25<br>26<br>27<br>28<br>29<br>30<br>31<br>32<br>Semantic versioning（语义化版本规则）<br><a href="https://docs.npmjs.com/getting-started/semantic-versioning" target="_blank" rel="noopener">https://docs.npmjs.com/getting-started/semantic-versioning</a></p>
<p>dependencies 的内容，以 “weex-html5”: “^0.3.2” 为例，我们知道 key 是依赖的包名称，value 是这个包的版本。那版本前面的 ^ 或者版本直接是一个 * 是什么意思呢？</p>
<p>这就是 npm 的 “Semantic versioning”，简称”Semver”，中文含义即“语义化版本规则”。</p>
<p>在安卓开发中我们有过这样的经验：有时候依赖的包升级后大改版，之前提供的接口不见了，这对使用者的项目可能造成极大的影响。</p>
<p>因此我们在声明对某个包的依赖时需要指明是否允许 update 到新版本，什么情况下允许更新。</p>
<p>这就需要先了解 npm 包提供者应该注意的版本号规范。</p>
<p>如果一个项目打算与别人分享，应该从 1.0.0 版本开始。以后要升级版本应该遵循以下标准：</p>
<p>补丁版本：解决了 Bug 或者一些较小的更改，增加最后一位数字，比如 1.0.1<br>小版本：增加了新特性，同时不会影响之前的版本，增加中间一位数字，比如 1.1.0<br>大版本：大改版，无法兼容之前的，增加第一位数字，比如 2.0.0<br>了解了提供者的版本规范后， npm 包使用者就可以针对自己的需要填写依赖包的版本规则。</p>
<p>作为使用者，我们可以在 package.json 文件中写明我们可以接受这个包的更新程度（假设当前依赖的是 1.0.4 版本）：</p>
<p>如果只打算接受补丁版本的更新（也就是最后一位的改变），就可以这么写：<br>1.0<br>1.0.x<br>~1.0.4<br>如果接受小版本的更新（第二位的改变），就可以这么写：<br>1<br>1.x<br>^1.0.4<br>如果可以接受大版本的更新（自然接受小版本和补丁版本的改变），就可以这么写：<br>*<br>x<br>小结一下：总共三种版本变化类型，接受依赖包哪种类型的更新，就把版本号准确写到前一位。</p>
<p>安装 package<br>使用 npm 安装 package 有两种方式：本地（当前项目路径）安装 或者 全局安装。</p>
<p>你选择哪种安装方式取决于你将如何使用这个包：</p>
<p>如果你只是想在当前项目里用 require() 加载使用，那你可以安装到本地<br>npm install 默认就是安装到本地的<br>如果你想要在命令行里直接使用，比如 grunt CLI，就需要安装到全局了<br>如果在你的项目里有 package.json 文件，运行 npm install 后它会查找文件中列出的依赖包，然后下载符合语义化版本规则的版本。</p>
<p>npm install 默认会安装 package.json 中 dependencies 和 devDependencies 里的所有模块。</p>
<p>如果想只安装 dependencies 中的内容，可以使用 –production 字段：</p>
<p>npm install –production<br>1<br>本地安装 package<br>npm 使用下面的命令下载一个包：</p>
<p>npm install <package_name><br>1<br>后面就是要安装包的名称。这个命令会在当前目录创建一个 node_modules 目录，然后下载我们指定的包到这个目录中。</package_name></p>
<p>举个例子：</p>
<p>zhangshixindeMacBook-Pro:publish-pkg zhangshixin$ npm install lodash<br>zhangshixindeMacBook-Pro:publish-pkg zhangshixin$ ls<br>index.js        package-lock.json<br>node_modules        package.json<br>zhangshixindeMacBook-Pro:publish-pkg zhangshixin$ ls node_modules/<br>lodash<br>1<br>2<br>3<br>4<br>5<br>6<br>下载后的项目文件夹：</p>
<p>这里写图片描述</p>
<p>安装指定版本：</p>
<p>npm install 默认安装最新版本，如果想要安装指定版本，可以在库名称后加 @版本号：</p>
<p>$ npm install sax@latest<br>$ npm install sax@0.1.1<br>$ npm install sax@”&gt;=0.1.0 &lt;0.2.0”<br>1<br>2<br>3<br>如果当前项目有 package.json 文件，下载包时会下载这个文件中指定的版本；<br>如果当前项目中没有 package.json 文件，就会下载指定包的最新版本。</p>
<p>有时下载会报错：npm install error saveError ENOENT: no such file or directory, open ‘/Users/zhangshixin/package.json’</p>
<p>解决办法： </p>
<ul>
<li>在目录下执行 npm init 创建 package.json，输入初始化信息 </li>
<li>然后再执行下载命令</li>
</ul>
<p>安装参数 –save 和 –save -dev<br>添加依赖时我们可以手动修改 package.json 文件，添加或者修改 dependencies devDependencies 中的内容即可。</p>
<p>另一种更酷的方式是用命令行，在使用 npm install 时增加 –save 或者 –save -dev 后缀：</p>
<p>npm install <package_name> –save 表示将这个包名及对应的版本添加到 package.json的 dependencies<br>npm install <package_name> –save-dev 表示将这个包名及对应的版本添加到 package.json的 devDependencies<br>使用下载好的包<br>下载后 node_modules 文件夹中有要使用的包，我们就可以使用其中的代码了。</package_name></package_name></p>
<p>比如在 Node.js 项目中，我们可以用 require(XXX) 引入它。</p>
<p>举个例子：<br>创建一个 index.js 文件，写入如下代码：</p>
<p>这里写图片描述</p>
<p>在使用 require(‘lodash’) 后引入了 lodash 库，然后调用了它的 without() 方法，这个方法可以去除第一个数组参数中与第二个参数重复的数据。</p>
<p>保存这个文件后，使用 node index.js 运行这个文件，成功的话就可以得到运行结果；如果之前安装失败，可能就会遇到这个错误：</p>
<p>module.js:340<br>    throw err;<br>          ^<br>Error: Cannot find module ‘lodash’<br>1<br>2<br>3<br>4<br>这时你需要在这个目录下重新运行 npm install lodash 安装。</p>
<p>更新本地 package<br>有时候我们想知道依赖的包是否有新版本，可以使用 npm outdated 查看，如果发现有的包有新版本，就可以使用 npm update <package-name> 更新它，或者直接 npm update 更新所有：</package-name></p>
<p>这里写图片描述</p>
<p>上图中，我们在输入 npm update 后发现本地的 lodash 模块还不是最新的，这是为什么呢？</p>
<p>原来，npm update 的工作过程是这样的：</p>
<p>先到远程仓库查询最新版本<br>然后对比本地版本，如果本地版本不存在，或者远程版本较新<br>查看 package.json 中对应的语义版本规则<br>如果当前新版本符合语义规则，就更新，否则不更新<br>一开始我本地的 package.json 的依赖是这样的：</p>
<p>  “dependencies”: {<br>    “lodash”: “^3.1.0”<br>  }<br>1<br>2<br>3<br>根据前面的介绍我们可以知道，这表示只接受小版本或者补丁版本的更新，因此在执行了一次 npm update 后它变成了这样：</p>
<p>  “dependencies”: {<br>    “lodash”: “^3.10.1”<br>  }<br>1<br>2<br>3<br>第二位升到了最高，但是无法更新第一位，因此无法更新到最新的 4.17.4。</p>
<p>所以我需要把它修改成：</p>
<p>  “dependencies”: {<br>    “lodash”: “*”<br>  }<br>1<br>2<br>3<br>这表示任何版本的更新都接受，然后再执行 npm update，就发现更新成功了：</p>
<p>这里写图片描述</p>
<p>小结一下：</p>
<p>执行 npm outdated 后可以看到有三个版本号：</p>
<p>这里写图片描述</p>
<p>第一个是当前 node_modules 中该模块的版本，第二个是 package.json 文件中声明的版本，第三个是远程仓库最新的版本。</p>
<p>只有当前模块版本低于远程，package.json 中的版本语义规则满足情况，才能更新成功。</p>
<p>卸载本地 package<br>卸载一个本地 package 很简单，npm uninstall <package-name> 即可：</package-name></p>
<p>这里写图片描述</p>
<p>官方文档说输入 npm uninstall –save lodash 才能在删除项目的同时移除 package.json 中对它的依赖。但我没加 –save 也达到了一样的效果，一脸懵逼。</p>
<p>卸载后再 ls node_modules/ 查看目录下，发现没有东西，删除成功。</p>
<p>全局安装 package<br>如果你想要直接在命令行中使用某个包，比如 jshint ，你可以全局安装它。</p>
<p>全局安装比本地安装多了个 -g:</p>
<p>npm install -g <package-name><br>1<br>以 jshint 为例，全局安装命令是：</package-name></p>
<p>npm install -g jshint<br>1<br>这里写图片描述</p>
<p>安装后可以使用 npm ls -g –depth=0 查看安装在全局第一层的包。</p>
<p>全局安装的权限问题<br>在全局安装时可能会遇到 EACCES 权限问题，解决办法办法有如下 3 种：</p>
<p>1.sudo npm install -g jshint，使用 sudo 简单粗暴，但是治标不治本</p>
<p>2.修改 npm 全局默认目录的权限</p>
<p>先获取 npm 全局目录：npm config get prefix，一般都是 /usr/local；<br>然后修改这个目录权限为当前用户：</p>
<p> sudo chown -R $(whoami) $(npm config get prefix)/{lib/node_modules,bin,share}<br>1<br>3.使用其他包管理器帮你解决这个问题</p>
<p>实在懒得弄可以直接卸载 node，然后使用 Homebrew 重装 node:</p>
<p>brew install node<br>1<br>Homebrew 会帮我们处理好权限的问题。</p>
<p>更新全局的 package<br>想知道哪些包需要更新，可以使用 npm outdated -g –depth=0，然后使用 npm update -g <package>更新指定的包：</package></p>
<p>这里写图片描述</p>
<p>要更新所有全局包，可以使用 npm update -g，可以发现对比本地的，只是多了个 -g。</p>
<p>不过官方说在 2.6.1 以下的 npm ，直接使用 npm update -g 并不安全，因为它会递归地更新所有全局依赖。</p>
<p>这种情况下可以使用 npm-check ，贴一张它的截图：</p>
<p>这里写图片描述</p>
<p>Github 地址：<a href="https://github.com/dylang/npm-check" target="_blank" rel="noopener">https://github.com/dylang/npm-check</a></p>
<p>卸载全局 package<br>一句搞定：npm uninstall -g <package></package></p>
<p>其他命令<br>npm run<br>部分摘自 阮一峰的 NPM 教程</p>
<p>npm 还可以直接运行 package.json 中 scripts 指定的脚本：</p>
<p>{<br>  “name”: “demo”,<br>  “scripts”: {<br>    “lint”: “jshint **.js”,<br>    “test”: “mocha test/“<br>  }<br>}<br>1<br>2<br>3<br>4<br>5<br>6<br>7<br>npm run 是 npm run-script 的缩写。</p>
<p>命令行输入 npm run lint 或者 npm run-script lint 就会执行 jshint **.js 。</p>
<p>npm run 会创建一个Shell，执行指定的命令，并临时将node_modules/.bin加入PATH 变量，这意味着本地模块可以直接运行。</p>
<p>package.json 中的 scripts 执行的脚本是本地项目内 node_modules -&gt; .bin 内的脚本。</p>
<pre><code>&quot;scripts&quot;: {
    &quot;build&quot;: &quot;weex-builder src dist&quot;,
    &quot;build_plugin&quot;: &quot;webpack --config ./tools/webpack.config.plugin.js --color&quot;,
    &quot;dev&quot;: &quot;weex-builder src dist -w&quot;,
    &quot;serve&quot;: &quot;serve -p 8080&quot;
}
</code></pre><p>1<br>2<br>3<br>4<br>5<br>6<br>这里写图片描述</p>
<p>直接运行 npm run 会列出当前项目的 package.json 中 scripts 属性下的所有脚本命令。</p>
<p>npm install from github<br>npm install 也可以直接从 github 下载:</p>
<p>$ npm install git://github.com/package/path.git<br>$ npm install git://github.com/package/path.git#0.1.0<br>1<br>2<br>npm info<br>npm info <package-name> 可以查看指定包的信息：</package-name></p>
<p>这里写图片描述</p>
<p>npm adduser<br>npm adduser 用于在npmjs.com注册一个用户:</p>
<p>$ npm adduser<br>Username: YOUR_USER_NAME<br>Password: YOUR_PASSWORD<br>Email: YOUR_EMAIL@domain.com<br>1<br>2<br>3<br>4<br>npm home/repo<br>npm home <package-name>命令可以打开指定模块的主页；<br>npm repo <package-name>命令则是打开指定模块的代码仓库。</package-name></package-name></p>
<p>npm prune<br>prune 即“修剪”的意思。</p>
<p>npm prune 可以检查出当前项目的 node_modules目录中，没有在 package.json里提到的模块。</p>
<p>npm publish<br>现在水平还不够，等写出可以复用的 JS 代码后，我们就可以将它发布到 npm 仓库上，类似 Github 的提交。</p>
<p>这部分主要摘自阮一峰的 NPM 教程</p>
<p>要想发布，首先需要使用 npm adduser向 npmjs.com申请用户名（当然去官网也可以）。</p>
<p>接着使用 npm login 在命令行中登录。</p>
<p>登录以后，就可以使用 npm publish命令发布。</p>
<p>$ npm publish<br>1<br>2<br>如果当前模块是一个beta版，比如1.3.1-beta.3，那么发布的时候需要使用tag参数，将其发布到指定标签，默认的发布标签是latest。</p>
<p>$ npm publish –tag beta<br>1<br>2<br>如果发布私有模块，模块初始化的时候，需要加上scope参数。只有npm的付费用户才能发布私有模块。</p>
<p>$ npm init –scope=<yourscope><br>1<br>2<br>如果你的模块是用ES6写的，那么发布的时候，最好转成ES5。首先，需要安装Babel。</yourscope></p>
<p>$ npm install –save-dev babel-cli@6 babel-preset-es2015@6<br>1<br>2<br>然后，在package.json里面写入build脚本。</p>
<p>“scripts”: {<br>  “build”: “babel source –presets babel-preset-es2015 –out-dir distribution”,<br>  “prepublish”: “npm run build”<br>}<br>1<br>2<br>3<br>4<br>5<br>运行上面的脚本，会将source目录里面的ES6源码文件，转为distribution目录里面的ES5源码文件。</p>
<p>国内镜像<br>不翻的话有时候 npm 比较卡，可以使用国内的淘宝镜像 cnpm： <a href="https://npm.taobao.org。" target="_blank" rel="noopener">https://npm.taobao.org。</a></p>
<p>cnpm 支持 npm 除了 publish 之外的所有命令。</p>
<p>总结<br>这里写图片描述</p>
<p>经过这么一番总结，总算可以说 npm 入门了。</p>
<h2 id="接触前端后发现这个圈子太复杂了，各种工具各种框架，眼花缭乱啊。一步一步来吧！"><a href="#接触前端后发现这个圈子太复杂了，各种工具各种框架，眼花缭乱啊。一步一步来吧！" class="headerlink" title="接触前端后发现这个圈子太复杂了，各种工具各种框架，眼花缭乱啊。一步一步来吧！"></a>接触前端后发现这个圈子太复杂了，各种工具各种框架，眼花缭乱啊。一步一步来吧！</h2>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://hujao.com/2018/06/14/bower/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ace1981">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Ace'pages">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/06/14/bower/" itemprop="url">bower</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-06-14T10:42:36+08:00">
                2018-06-14
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="A-package-manager-for-the-web"><a href="#A-package-manager-for-the-web" class="headerlink" title="A package manager for the web"></a>A package manager for the web</h3><p>Bower是一个包管理工具。包的内容没有限制，比如：js库，框架，图片/字体资源等等或者它们的组合都可以，只要是你需要的就行，你也可以打包一些内容通过在bower上登记注册公开对外发布(当然Bower也支持提建私有包库)。</p>
<h2 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h2><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><blockquote>
<p><code>npm install -g bower</code></p>
</blockquote>
<h3 id="初始化"><a href="#初始化" class="headerlink" title="初始化"></a>初始化</h3><blockquote>
<p><code>bower init</code></p>
<p>通过问答向导的方式在当前目录生成一个bower.json文件。</p>
</blockquote>
<h3 id="查询包信息和版本"><a href="#查询包信息和版本" class="headerlink" title="查询包信息和版本"></a>查询包信息和版本</h3><blockquote>
<p><code>bower info 包名</code></p>
<p>这个命令可以查看一个包的所有版本(<strong>所以也能知道最新版本号</strong>)，并显示最新版本的包信息(bower.json)，并下载最新版本的包到本地缓存（如果之前没下载）。</p>
<p><code>bower info 包名#版本号</code></p>
<p>查看包的某个版本的详细信息。</p>
</blockquote>
<h3 id="安装包"><a href="#安装包" class="headerlink" title="安装包"></a>安装包</h3><blockquote>
<p><code>bower install</code></p>
<p>安装当前目录下<code>bower.json</code>中的指定所有包。<strong>生产环境部署时建议使用 -p 或 –production参数</strong>，这种情况不会安装devDependencies。</p>
<p><code>bower install 包名 --save</code></p>
<p>安装指定的包。</p>
<ul>
<li>如果使用参数 <code>-S</code> 或 <code>--save</code> 则安装完后，会把包名及版本号添加到<code>bower.json</code>的<code>dependecies</code>配置项数组中(方便以后重新安装)。</li>
<li>如果使用参数 <code>-D</code> 或 <code>--save-dev</code> 则安装完后，会把包名及版本号添加到<code>bower.json</code>的<code>devDependecies</code>配置项数组中。</li>
<li>如果不使用参数，则只安装包到<code>bower_components</code>目录，不修改<code>bower.json</code>文件。</li>
</ul>
</blockquote>
<h3 id="更新"><a href="#更新" class="headerlink" title="更新"></a>更新</h3><blockquote>
<p><code>bower update 包名</code></p>
</blockquote>
<h3 id="搜索"><a href="#搜索" class="headerlink" title="搜索"></a>搜索</h3><blockquote>
<p><code>bower search 包名</code></p>
</blockquote>
<h3 id="卸载"><a href="#卸载" class="headerlink" title="卸载"></a>卸载</h3><blockquote>
<p><code>bower uninstall 包名</code></p>
<p>不支持一次卸载所有的包，只能手动全部删除。<br>卸载包并不从缓存中删除，只是安装目录移除，下次安装会优先从本地缓存中复制安装。</p>
</blockquote>
<h3 id="缓存"><a href="#缓存" class="headerlink" title="缓存"></a>缓存</h3><p>Bower在安装包的时候，会先下载包到本地缓存，然后再复制到安装位置。<br>缓存位置默认：</p>
<blockquote>
<p>Win：C:Users用户名AppDataLocalbowercachepackages<br>Linux：~/.bower/packages</p>
</blockquote>
<h4 id="浏览列表"><a href="#浏览列表" class="headerlink" title="浏览列表"></a>浏览列表</h4><blockquote>
<p><code>bower cace list [package...]</code></p>
</blockquote>
<h4 id="删除缓存"><a href="#删除缓存" class="headerlink" title="删除缓存"></a>删除缓存</h4><blockquote>
<p><code>bower cache clean</code><br>删除除所有本地缓存</p>
<p><code>bower cache clean &lt;package&gt;#&lt;version&gt;</code><br>删除除指定包的缓存，还可以指定版本。</p>
</blockquote>
<h2 id="bowerrc-文件"><a href="#bowerrc-文件" class="headerlink" title=".bowerrc 文件"></a>.bowerrc 文件</h2><p>这个文件主要用来配置安装路径，如果不指定则默认安装到当前目录下的<code>bower_components</code>目录中。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;directory&quot;: &quot;bower_components&quot;，   //包安装位置</span><br><span class="line">  &quot;storage&quot;: &#123;</span><br><span class="line">    &quot;packages&quot; : &quot;~/.bower/packages&quot;  //包本地缓存位置</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>其他配置项参见：<a href="https://github.com/bower/spec/blob/master/config.md" target="_blank" rel="noopener">bowerrc/spec</a></p>
<h2 id="bower-json-文件"><a href="#bower-json-文件" class="headerlink" title="bower.json 文件"></a>bower.json 文件</h2><p>无论你是使用<code>bower</code>来为项目管理外部依赖，还是准备制作一个包，都是通过<code>bower.json</code>文件来进行的，这个文件可以说是<code>bower</code>运行的核心。<code>bower.json</code>的配置项和其他包管理工具，比如<code>npm</code>，<code>composer</code>的都差不多，你也可以通过分析这个文件来思考包管理器是如何运行的。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;name&quot;:&quot;&quot;,              //必须，如果需要注册包，则该包名唯一。</span><br><span class="line">    </span><br><span class="line">    &quot;description&quot;:&quot;&quot;,       //可选，包描述</span><br><span class="line">    </span><br><span class="line">    &quot;main&quot;:[],              //可选，入口文件，bower本身不使用，供第三方构建工具会使用</span><br><span class="line">                            //每种文件类型只能有一个。</span><br><span class="line">    </span><br><span class="line">    &quot;ignore&quot;:[],            //可选，文件或目录列表。bower安装的时候将忽略该列表中的文件。</span><br><span class="line">                            //bower是从git仓库或压缩包下载一个包，里面的文件并不一定全部需要。</span><br><span class="line">    </span><br><span class="line">    &quot;dependencies&quot;:[],      //依赖包，name:value，value可以是包的semver       </span><br><span class="line">                            //range(版本号范围)，也可以直接是一个包的git地址或压缩包地址。</span><br><span class="line">                            </span><br><span class="line">    &quot;devDependencies&quot;:[],   //开发依赖包，仅仅在开发过程中测试或者编译文档用，部署生产环境是不需要。</span><br><span class="line">                            //格式和dependencies 相同</span><br><span class="line">                            </span><br><span class="line">    &quot;resolutions&quot;:[],       //包引用冲突自动使用该模块指定的包版本</span><br><span class="line">                            //格式和dependencies 相同</span><br><span class="line">                            </span><br><span class="line">    &quot;overrides&quot; :[          //这个也很关键，可以覆盖一个包中的默认设置，比如main里面设定的入口文件</span><br><span class="line">        &quot;package-name&quot;:&#123;    //这样可以根据需要，让第三方工具只打包需要的文件。</span><br><span class="line">            &quot;main&quot;:[]</span><br><span class="line">        &#125;</span><br><span class="line">    ],</span><br><span class="line">                            </span><br><span class="line">    &quot;moduleType&quot;:&quot;&quot;,        //可选，指定包采用那种模块化方式(globals,amd,node,es6,yui)</span><br><span class="line">    </span><br><span class="line">    &quot;private&quot;:Boolean,      //是否公开发布当前包,如果只是使用bower来管理项目的包，设置为true.</span><br><span class="line">    </span><br><span class="line">    &quot;license&quot;:&quot;&quot;,           //授权方式(GPL-3.0,CC-BY-4.0.....)</span><br><span class="line">    </span><br><span class="line">    &quot;keywords&quot;:[],          //可选，方便注册后容易被其他人搜索到。</span><br><span class="line">    </span><br><span class="line">    &quot;authors&quot;:[],           //作者列表</span><br><span class="line">    </span><br><span class="line">    &quot;homepage&quot;:[],          //主页，包介绍页</span><br><span class="line">    </span><br><span class="line">    &quot;repository&quot;:&#123;          //包所在仓库。</span><br><span class="line">        &quot;type&quot;: &quot;git&quot;,</span><br><span class="line">        &quot;url&quot;: &quot;git://github.com/foo/bar.git&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">｝</span><br></pre></td></tr></table></figure>
<blockquote>
<p>bower用这套格式管理所有的包，所以下载的每个包中都会包含一个<code>bower.json</code>文件。<br><strong>如果只是使用bower作为项目的包管理工具，上述配置项只需关注：dependencies, devDependencies, resolutions，overrides即可</strong><br><strong>如果你把自己开发的内容打包发布出去，这个时候才需要配置其他项。</strong><br>配置项的更多解释可以参考：<a href="https://github.com/bower/spec/blob/master/json.md" target="_blank" rel="noopener">https://github.com/bower/spec…</a></p>
</blockquote>
<h2 id="semver-range"><a href="#semver-range" class="headerlink" title="semver range"></a>semver range</h2><p>Bower使用<code>semver range</code>来匹配版本。<br>常用的版本区域表达式：</p>
<ul>
<li>比较符： &lt; &gt; &lt;= &gt;= =</li>
<li>范围：1.2.3 - 2.3.5</li>
<li>通配符：1.2.* 匹配：大于1.2.0小于1.3.0</li>
<li>波浪范围：~1.2.3 匹配：大于当前版本，小于次末位+1，本例中是 大于1.2.3小于1.3.0</li>
<li>插入符范围：^1.2 匹配：大于当前版本，小于从左侧开始第一个非零值+1，本例大于1.2小于2.0</li>
<li>还支持一些函数判断，就不举例了。。。。</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://hujao.com/2018/06/14/js-package/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ace1981">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Ace'pages">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/06/14/js-package/" itemprop="url">js-package</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-06-14T10:40:05+08:00">
                2018-06-14
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>gulp: 用自动化构建工具增强你的工作流程！<a href="https://www.gulpjs.com.cn/" target="_blank" rel="noopener">https://www.gulpjs.com.cn/</a></p>
<p>bower: A package manager for the web <a href="https://bower.io/" target="_blank" rel="noopener">https://bower.io/</a></p>
<p>npm:npm is the package manager for JavaScript and the world’s largest software registry.  <a href="https://www.npmjs.com/" target="_blank" rel="noopener">https://www.npmjs.com/</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://hujao.com/2018/06/07/angular-directive/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ace1981">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Ace'pages">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/06/07/angular-directive/" itemprop="url">angularjs学习directive</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-06-07T18:18:24+08:00">
                2018-06-07
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ol>
<li>controller与link区别</li>
</ol>
<p>（1）在controller写业务逻辑（我们明白业务逻辑大部分是放在服务中），这里所说的业务逻辑乃是为呈现视图之前而准备的数据或者是与其他指令进行数据交互而暴露这个api。</p>
<p>（2）在link中主要操作DOM。</p>
<ol>
<li>模板部分</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"enum_combo_select"</span> <span class="attr">style</span>=<span class="string">"height:30px;width:100%;"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">	.btnStyle &#123;</span></span><br><span class="line"><span class="undefined">		min-width: 58px;</span></span><br><span class="line"><span class="undefined">		text-align: center;</span></span><br><span class="line"><span class="undefined">		display: inline-block;</span></span><br><span class="line"><span class="undefined">		margin-left: 8px;	</span></span><br><span class="line"><span class="undefined">		margin-top: 8px;</span></span><br><span class="line"><span class="undefined">		cursor: pointer;</span></span><br><span class="line"><span class="undefined">		border-radius: 3px;</span></span><br><span class="line"><span class="undefined">	&#125;	</span></span><br><span class="line"><span class="undefined">	.oddStyle &#123;</span></span><br><span class="line"><span class="undefined">		background: #0d94ff !important;</span></span><br><span class="line"><span class="undefined">		color: #fff !important;</span></span><br><span class="line"><span class="undefined">		border: solid 1px #CCCCCC;</span></span><br><span class="line"><span class="undefined">	&#125;</span></span><br><span class="line"><span class="undefined">	</span></span><br><span class="line"><span class="undefined">	.btnStyleNormal &#123;</span></span><br><span class="line"><span class="undefined">		border: solid 1px #CCCCCC;</span></span><br><span class="line"><span class="undefined">		color: #CCCCCC;</span></span><br><span class="line"><span class="undefined">	&#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">input</span> <span class="attr">readonly</span>=<span class="string">"readonly"</span>  <span class="attr">class</span>=<span class="string">"k-input k-textbox"</span> <span class="attr">style</span>=<span class="string">"width:100%;cursor:pointer;font-size: 14px; font-weight: normal; font-family: Microsoft YaHei UI;padding: 4px;border: none;"</span> <span class="attr">ng-click</span>=<span class="string">"showenumpopup()"</span> <span class="attr">value</span>=<span class="string">"&#123;&#123;displaytext?displaytext:'请选择'&#125;&#125;"</span>&gt;</span> <span class="tag">&lt;/<span class="name">input</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"enumpopup"</span> <span class="attr">style</span>=<span class="string">"height: *;width:*;min-width: 300px; position: absolute;background:#FFF;display: none;border:1px #ddd solid;z-index: 999;"</span> <span class="attr">ng-click</span>=<span class="string">"popupclick()"</span>&gt;</span></span><br><span class="line">		 </span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"btnStyle btnStyleNormal"</span> <span class="attr">style</span>=<span class="string">"height: 25px;width:90px;position:relative;float: left; margin: 5px;"</span> <span class="attr">ng-repeat</span>=<span class="string">"item in datasource"</span> <span class="attr">ng-click</span>=<span class="string">"selectEquipment($index,$event)"</span> <span class="attr">ng-class</span>=<span class="string">"&#123;'oddStyle':item.selected == true&#125;"</span> <span class="attr">ng-model</span>=<span class="string">"item.value"</span>&gt;</span></span><br><span class="line">			&#123;&#123;item.text&#125;&#125;</span><br><span class="line">		<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ol>
<li>脚本部分</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> app = angular.module(<span class="string">"app"</span>, []);</span><br><span class="line"></span><br><span class="line">app.controller(<span class="string">"test"</span>, <span class="function"><span class="keyword">function</span>(<span class="params">$scope, $http,</span></span></span><br><span class="line"><span class="function"><span class="params">	$rootScope</span>) </span>&#123;</span><br><span class="line">	$scope.dataStore = &#123;&#125;</span><br><span class="line">	$scope.dataStore.data = &#123;&#125;;</span><br><span class="line">	$scope.dataStore.data.vehicleEquipment = <span class="literal">null</span>;</span><br><span class="line">	$scope.dataStore.enums = &#123;</span><br><span class="line">		<span class="string">"SDMS_CLZBLX"</span>: &#123;</span><br><span class="line">			key: <span class="string">"SDMS_CLZBLX"</span>,</span><br><span class="line">			enumItems: [&#123;</span><br><span class="line">				<span class="string">"text"</span>: <span class="string">"AK47"</span>,</span><br><span class="line">				<span class="string">"value"</span>: <span class="string">"1"</span></span><br><span class="line">			&#125;, &#123;</span><br><span class="line">				<span class="string">"text"</span>: <span class="string">"M4A1"</span>,</span><br><span class="line">				<span class="string">"value"</span>: <span class="string">"2"</span></span><br><span class="line">			&#125;, &#123;</span><br><span class="line">				<span class="string">"text"</span>: <span class="string">"98Kar"</span>,</span><br><span class="line">				<span class="string">"value"</span>: <span class="string">"3"</span></span><br><span class="line">			&#125;,</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="string">"text"</span>: <span class="string">"Awm"</span>,</span><br><span class="line">				<span class="string">"value"</span>: <span class="string">"4"</span></span><br><span class="line">			&#125;]</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">console</span>.log($scope.dataStore.enums.SDMS_CLZBLX.enumItems);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.directive(<span class="string">"enumComboSelect"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> &#123;</span><br><span class="line">		templateUrl: <span class="string">'../directive/enumcomboselect.html'</span>,</span><br><span class="line">		restrict: <span class="string">'E'</span>,</span><br><span class="line">		scope: &#123;</span><br><span class="line">			datasource: <span class="string">"=?"</span>,</span><br><span class="line">			ngModel: <span class="string">"=?"</span>,</span><br><span class="line">			displaytext: <span class="string">"=?"</span>,</span><br><span class="line">			ngDisabled: <span class="string">"=?"</span></span><br><span class="line">		&#125;,</span><br><span class="line">		controller: <span class="function"><span class="keyword">function</span>(<span class="params">$scope</span>) </span>&#123;</span><br><span class="line">			$scope.$watch(<span class="string">'ngModel'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">				<span class="built_in">console</span>.log(<span class="string">"scope.$watch:"</span> + $scope.ngModel);</span><br><span class="line">				$scope.init();</span><br><span class="line"></span><br><span class="line">			&#125;);</span><br><span class="line">		&#125;,</span><br><span class="line">		replace: <span class="literal">true</span>,</span><br><span class="line">		link: <span class="function"><span class="keyword">function</span>(<span class="params">scope, ele, attr, controller</span>) </span>&#123;</span><br><span class="line">			<span class="built_in">console</span>.log(scope.datasource);</span><br><span class="line">			scope.selectvalues = [];</span><br><span class="line">			scope.selecttexts = [];</span><br><span class="line">			<span class="keyword">var</span> popup = $(<span class="string">"#enumpopup"</span>);</span><br><span class="line">			ele.focusout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">				<span class="built_in">console</span>.log(<span class="string">"ele.focusout()"</span>);</span><br><span class="line">				<span class="keyword">if</span>(!$(<span class="keyword">this</span>).is(<span class="string">':hover'</span>)) &#123;</span><br><span class="line">					ele.children(<span class="string">"#enumpopup"</span>).hide();</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;);</span><br><span class="line">			scope.init = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">				<span class="keyword">if</span>(scope.ngDisabled) &#123;</span><br><span class="line">					ele.children(<span class="string">"input"</span>).css(<span class="string">"color"</span>, <span class="string">"rgb(164, 167, 173)"</span>);</span><br><span class="line">				&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">					ele.children(<span class="string">"input"</span>).css(<span class="string">"color"</span>, <span class="string">"#525252"</span>);</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="built_in">console</span>.log(<span class="string">"scope.init()"</span>);</span><br><span class="line"></span><br><span class="line">				scope.selectvalues = [];</span><br><span class="line">				scope.selecttexts = [];</span><br><span class="line">				<span class="keyword">if</span>(scope.ngModel) &#123;</span><br><span class="line">					<span class="keyword">var</span> ids = scope.ngModel.split(<span class="string">","</span>);</span><br><span class="line">					<span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; ids.length; i++) &#123;</span><br><span class="line">						<span class="keyword">if</span>(ids[i])</span><br><span class="line">							scope.selectvalues.push(ids[i]);</span><br><span class="line">						<span class="keyword">for</span>(<span class="keyword">var</span> k = <span class="number">0</span>; k &lt; scope.datasource.length; k++) &#123;</span><br><span class="line">							<span class="keyword">if</span>(scope.datasource[k].value == ids[i]) &#123;</span><br><span class="line">								scope.datasource[k].selected = <span class="literal">true</span>;</span><br><span class="line">								scope.selecttexts.push(scope.datasource[k].text);</span><br><span class="line">								<span class="keyword">break</span>;</span><br><span class="line">							&#125;</span><br><span class="line">						&#125;</span><br><span class="line">					&#125;</span><br><span class="line">					scope.displaytext = <span class="string">""</span>;</span><br><span class="line">					<span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; scope.selectvalues.length; i++) &#123;</span><br><span class="line">						<span class="keyword">var</span> comma = (scope.selecttexts.length == (i + <span class="number">1</span>)) ? <span class="string">""</span> : <span class="string">","</span>;</span><br><span class="line">						scope.displaytext = scope.displaytext + scope.selecttexts[i] + comma;</span><br><span class="line">					&#125;</span><br><span class="line">				&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">					scope.displaytext = <span class="string">"请选择"</span>;</span><br><span class="line">					<span class="keyword">for</span>(<span class="keyword">var</span> index = <span class="number">0</span>; index &lt; scope.datasource.length; index++)</span><br><span class="line">						scope.datasource[index].selected = <span class="literal">false</span>;</span><br><span class="line">						<span class="comment">//test77</span></span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			scope.init();</span><br><span class="line">			scope.popupclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">				<span class="built_in">console</span>.log(<span class="string">"scope.popupclick()"</span>);</span><br><span class="line">				ele.children(<span class="string">"#enumpopup"</span>).hide();</span><br><span class="line">				ele.children(<span class="string">"input"</span>).focus();</span><br><span class="line">			&#125;;</span><br><span class="line">			scope.showenumpopup = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">				<span class="built_in">console</span>.log(<span class="string">"scope.showenumpopup()"</span>);</span><br><span class="line">				<span class="built_in">console</span>.log(scope.ngDisabled);</span><br><span class="line">				<span class="keyword">if</span>(!scope.ngDisabled) &#123;</span><br><span class="line">					<span class="keyword">if</span>(ele.children(<span class="string">"#enumpopup"</span>).is(<span class="string">":visible"</span>))</span><br><span class="line">						ele.children(<span class="string">"#enumpopup"</span>).hide();</span><br><span class="line">					<span class="keyword">else</span></span><br><span class="line">						ele.children(<span class="string">"#enumpopup"</span>).show();</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;;</span><br><span class="line">			scope.selectEquipment = <span class="function"><span class="keyword">function</span>(<span class="params">index, event</span>) </span>&#123;</span><br><span class="line">				<span class="built_in">console</span>.log(<span class="string">"scope.selectEquipment()"</span>);</span><br><span class="line">				<span class="keyword">var</span> selectvalue = scope.datasource[index].value;</span><br><span class="line">				<span class="keyword">var</span> selecttext = scope.datasource[index].text;</span><br><span class="line">				<span class="built_in">console</span>.log(selectvalue);</span><br><span class="line">				<span class="keyword">if</span>(scope.selectvalues.indexOf(selectvalue) &lt; <span class="number">0</span>) &#123;</span><br><span class="line">					scope.selectvalues.push(selectvalue);</span><br><span class="line">					scope.selecttexts.push(selecttext);</span><br><span class="line">					scope.datasource[index].selected = <span class="literal">true</span>;</span><br><span class="line">				&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">					scope.selectvalues.splice(scope.selectvalues.indexOf(selectvalue), <span class="number">1</span>);</span><br><span class="line">					scope.selecttexts.splice(scope.selecttexts.indexOf(selecttext), <span class="number">1</span>);</span><br><span class="line">					scope.datasource[index].selected = <span class="literal">false</span>;</span><br><span class="line">				&#125;</span><br><span class="line">				scope.displaytext = <span class="string">""</span>;</span><br><span class="line">				scope.ngModel = <span class="string">""</span>;</span><br><span class="line">				<span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; scope.selectvalues.length; i++) &#123;</span><br><span class="line">					<span class="keyword">var</span> comma = (scope.selecttexts.length == (i + <span class="number">1</span>)) ? <span class="string">""</span> : <span class="string">","</span>;</span><br><span class="line">					scope.displaytext = scope.displaytext + scope.selecttexts[i] + comma;</span><br><span class="line">					scope.ngModel = scope.ngModel + scope.selectvalues[i] + comma;</span><br><span class="line">				&#125;</span><br><span class="line">				scope.$parent.valChange(<span class="literal">true</span>);</span><br><span class="line">				ele.children(<span class="string">"input"</span>).focus();</span><br><span class="line">				event.stopPropagation();</span><br><span class="line">			&#125;;</span><br><span class="line"></span><br><span class="line">			scope.affirm = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">				<span class="built_in">console</span>.log(<span class="string">"scope.affirm()"</span>);</span><br><span class="line">				ele.children(<span class="string">"#enumpopup"</span>).hide();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<ol>
<li>使用部分</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"></span><br><span class="line">		<span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"../../../resources/plugin/kendo/js/jquery.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"../../../resources/plugin/bootstrap/dist/js/bootstrap.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">		<span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"../../../resources/plugin/kendo/js/angular.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"../../../resources/plugin/angular/angular-ui-router.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span> <span class="attr">ng-app</span>=<span class="string">"app"</span> <span class="attr">ng-controller</span>=<span class="string">"test"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"width: 500px;"</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"width: 500px;"</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">enum_combo_select</span> <span class="attr">ng-model</span>=<span class="string">"dataStore.data.vehicleEquipment"</span> <span class="attr">ng-disabled</span>=<span class="string">"isDisabled"</span>  <span class="attr">displaytext</span>=<span class="string">""</span> <span class="attr">datasource</span>=<span class="string">"dataStore.enums.SDMS_CLZBLX.enumItems"</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;/<span class="name">enum_combo_select</span>&gt;</span></span><br><span class="line"></span><br><span class="line">				<span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"width: 200px;"</span>&gt;</span></span><br><span class="line">					aaa</span><br><span class="line">				<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"new_file.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://hujao.com/2018/06/07/eclipse-clean/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ace1981">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Ace'pages">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/06/07/eclipse-clean/" itemprop="url">eclipse区别clean refresh</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-06-07T16:08:18+08:00">
                2018-06-07
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h5 id="1-project-clean和refresh"><a href="#1-project-clean和refresh" class="headerlink" title="1. project clean和refresh"></a>1. project clean和refresh</h5><p>Q：What is the difference between refresh (select project, right click and refresh) and clean in Eclipse?</p>
<p>A：Refresh rereads the sourcefiles to see if there are changes made outside Eclipse.</p>
<p>Clean removes all compiled classes and forces recompilation of the entire project (or workspace depending on what you select to be cleaned).</p>
<ul>
<li><p><strong>clean</strong> </p>
<p>清除所有编译信息,eclipse编译基于文件时间戳,clean是清除所有编译信息(所有.class文件),默认Build Automatically时相当于重新编译.</p>
</li>
<li><p><strong>refresh</strong> </p>
<p>重新加载项目文件,当文件在外部有修改eclipse不知道时使用</p>
</li>
</ul>
<h5 id="2-tomcat-clean"><a href="#2-tomcat-clean" class="headerlink" title="2. tomcat clean"></a>2. tomcat clean</h5><p>Clean: Purges all webapps and redeploys them (don’t do this while the Tomcat instance is running)</p>
<p>Clean working dir: Cleans out Tomcat’s work dir, e.g. where compiled JSPs go. See <a href="http://www.coderanch.com/t/87174/Tomcat/Purpose-work-directory-Tomcat" target="_blank" rel="noopener">here</a>.</p>
<ul>
<li><p><strong>clean</strong> 清除web目录中的所有文件</p>
</li>
<li><p><strong>Clean working dir</strong>  </p>
<p>没有删文件</p>
<p>会restart web项目,浏览器不需要清除缓存</p>
</li>
<li><p><strong>restart</strong> 会重启web,加载最新的文件,浏览器不需要清除缓存,刷新就可以</p>
<p>​        </p>
</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/13/">13</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">ace1981</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">128</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index/index.html">
                  <span class="site-state-item-count">29</span>
                  <span class="site-state-item-name">categories</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">63</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          

          <div class="links-of-author motion-element">
            
          </div>

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">ace1981</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.3</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.3"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.3"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

<script>'use strict';'serviceWorker'in navigator&&navigator.serviceWorker.register('service-worker.js').then(function(a){a.onupdatefound=function(){var b=a.installing;b.onstatechange=function(){switch(b.state){case'installed':navigator.serviceWorker.controller?console.log('New or updated content is available.'):console.log('Content is now available offline!');break;case'redundant':console.error('The installing service worker became redundant.');}}}}).catch(function(a){console.error('Error during service worker registration:',a)});
</script></body></html>